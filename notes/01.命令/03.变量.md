#### 1. 变量取用
```shell
echo ${var}
```
#### 2. 查看所有变量
```shell
set
```
#### 3. 变量设置
```shell
var=value # 注意：中间不要加空格
```

#### 4. 取消变量
```shell
unset
```
#### 5. 变量中添加内容
```shell
PATH=$PATH:/home/dmtsai/bin
PATH="$PATH":/home/dmtsai/bin
PATH=${PATH}:/home/dmtsai/bin
name=${name}yes
```

#### 6. 在子程序中使用变量
```shell
var=value
export var
bash # 进入子程序
echo var # 子程序中显示value
exit # 离开子程序
```
为什么环境变量的数据可以被子程序所引用？
1. 启动shell时，OS会分配一块内存给shell，子程序可用该区域。
2. 父程序中使用export可将变量写到这块内存中，变成环境变量。
3. 启动子程序后，子shell可将父shell的环境变量所在内存区块导入自己的环境变量所在内存区块。（注意：是复制的值，更改其中一个并不会同步修改另一个）。

#### 7. 进入到目前CPU的模块目录
```shell
cd /lib/modules/$(uname -r)/kernel
```

#### 8. 单引号 、双引号、反单引号
- 单引号中的变量名会被当做普通字符串处理
- 双引号中的变量名会替换成变量的内容
- 反单引号：在一串指令中，在反单引号/括号中的内容会被先执行
```shell
var="lang is $LANG" && echo $var # lang is zh_CN.UTF-8
var='lang is $LANG' && echo $var # lang is $LANG
version=$`uname -r` && echo $version # 3.10.0-229.el7.x86_64
```
#### 9. 列出所有环境变量
```shell
env
```

#### 10. 变量内容删除/替换
###### 1. 删除

| 变量设置方式            | 说明                   |
| ----------------- | -------------------- |
| `${变量#关键字}`       | 从头开始找到符合“关键字”的最短数据删除 |
| `${变量##关键字}`      | 从头开始找到符合“关键字”的最长数据删除 |
| `${变量%关键字}`       | 从尾开始向前符合“关键字”的最短数据删除 |
| `${变量%%关键字}`      | 从尾开始向前符合“关键字”的最长数据删除 |
| `${变量/旧字串/新字串}`   | 用新字串替换掉第一个符合的旧字串     |
| `${变量//旧字串//新字串}` | 用新字串替换掉第一个符合的新字串     |

###### 2. 替换

| 变量设置方式            | str没有设置           | str=“”            | str已设置且不为空    |
| ----------------- | ----------------- | ----------------- | ------------- |
| var=${str-expr}   | var=expr          | var=              | var=$str      |
| var:=${str:-expr} | var=expr          | var=expr          | var=$str      |
| var=${str+expr}   | var=              | var=expr          | var=expr      |
| var=${str:+expr}  | var=              | var=              | var=expr      |
| var=${str=expr}   | str=expr var=expr | str= var=         | str= var=     |
| var=${str:=expr}  | str=expr var=expr | str=expr var=expr | str= var=$str |
| var=${str?expr}   | expr输出至stderr     | var=              | var=$str      |
| var=${str:?expr}  | expr输出至stderr     | expr输出值stderr     | var=$str      |
